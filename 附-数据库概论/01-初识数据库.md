## 一 数据的物理存储形式

数据在计算机中可以使用两种物理的存储方式：
- 文件系统形式：由操作系统来管理数据，以文件形式存储，如计算机中的各种文件，其可用性和恢复性更高，适用于更大型的数据存储，例如分布式存储
- 裸数据形式：由数据库管理数据，如常见的数据库软件mysql。其工作于存储级，使用块I/O操作或者scsi协议，跳过了操作系统直接与磁盘交互，开销低

裸数据存储方式的有点：
- 数据以结构化形式存储，使得用户可以对数据进行复杂的操作

裸数据存储方式的缺点：
- 由于裸数据管理的整个数据，一旦发生磁盘某块区域损坏，可能会导致所有的数据无法读取。
- 分布式存储中，如果使用裸数据方式，由于数据之间有结构性关联，无法合理实现分布式

## 二 数据库概述

数据库系统是用来解决企业中的一些常见问题的：
- 持久化存储
- 优化读写
- 保证数据的有效性  

当前使用的数据库，主要分为两类：
- 文档型：如sqlite，就是一个文件，通过对文件的复制完成数据库的复制；
- 服务型：如mysql，数据存储在物理文件中，使用终端以tcp/ip协议进行数据操作。

当前物理的数据库都是按照E-R模型进行设计的，E表示entry实体，R表示relationship，一个实体转换为数据库中的一个表，关系描述两个实体之间的对应规则，包括
- 一对一
- 一对多
- 多对多

关系转换为数据库表中的一个列；在关系型数据库中一行就是一个对象。  

ER关系图：
![](/images/sql/00-er.png)


## 三 数据库的两大结构

- 对数据也有一些管理方式，叫做存储引擎，其包含的机制有：
  - 存储机制
  - 索引方式
  - 锁
  - 等等
- 数据库管理系统(Database Management System DBMS )，专门用于管理和维护数据库所使用的软件
  - 用户管理
  - 处理数据库连接
  - 缓存
  - 查询
  - 日志
  - 等等

## 四 sql语言

sql语言：即结构化查询语言，是关系行数据库默认的操作语言，拥有一套标准的sql标准，如下所示：
- DDL：数据定义语言，DROP,CREATE,ALTER
- DML:数据操作语言，INSERT,UPDATE,DELETE
- DQL:数据查询语言，SELECT
- DCL:数据控制语言，GRANT,REVOKE,COMMIT

## 五 三大范式

三范式：设计数据库的一些规范被称为范式，后一个范式，都是在前一个范式的基础上建立的。
- 第一范式（1NF)：列不可拆分
- 第二范式（2NF)：唯一标识
- 第三范式（3NF)：引用主键

一个数据库就是一个完整的业务单元，可以包含多张表，数据被存储在表中。在表中为了更加准确的存储数据，保证数据的正确有效，可以在创建表的时候，为表添加一些强制性的验证，包括数据字段的类型、约束。
