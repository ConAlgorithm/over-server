## 一 分布式系统概念

> 分布式系统: 其组件分布在联网的计算机上，组件之间通过消息传递进行通信、动作协调的系统。

由此可见，分布式系统有三个重要特征：
- 组件的并发性：不同组件资源共享所带来的程序协调问题
- 缺乏全局时钟：网络上的计算机与时钟同步所到达的准确性是有限的，即没有一个正确时间的全局概念。
- 组件故障独立：各组件出现故障，并不能让其他组件立即了解，还会依赖于网络等因素

构建分布式系统的主要挑战是对其组件的处理协调，如：
- 异构性：分布式系统中的大量组件在网络、硬件、操作系统、编程语言等都各有不同
- 开放性：允许增加、替换组件
- 并发性：多用户同时访问共享资源时，共享资源能够被安全使用
- 透明性：用户对分布式系统内的组件无感知，对用户而言，分布式系统就像一个整体的系统，而不是独立的组件集合。一个健壮的分布式系统需要实现：
  - 访问透明性：访问本地、远程资源的操作方式要相同
  - 并发透明性：进程之间并发使用共享资源时能互不干扰
  - 复制透明性：多个实例提升系统性能后，用户无感知
  - 故障透明性：需要对错误进行屏蔽，让用户能够顺利完成任务
  - 移动透明性：资源、用户能够在系统内移动而不影响用户、程序的操作
  - 性能透明性：负载变化时，系统能够被重新配置，为不同负载提供不同能力的资源
  - 伸缩透明性：系统在扩展时不改变系统结构
- 组件提供的服务质量：系统的及时性、计算吞吐量
- 安全性：
- 可伸缩性：

## 二 分布式系统的应用

互联网本身即使一个超大的分布式系统，加入互联网的各种设备：大型服务器、个人PC、移动设备、家庭影音设备都是该分布式系统的不同组件。由于大家同处于一个分布式系统（互联网）中，可以互相之间实现发送邮件、传送文件、聊天等功能。  

分布式系统已经被广泛应用于多种领域：
- web搜索：如谷歌的搜索引擎，目前大约有万亿级的网址文件，对分布式存储的需求极大
- 金融商业：如阿里巴巴电商系统，需要实现交易应用、自动监控等
- 在线游戏：需要支持大量人数同时在线，有很多系统设计体系
  - 客户-服务器体系：这是大多游戏的设计方案，通过拷贝一份游戏世界状态（增加服务器），实现组件的扩充，代价是不同服务器之间的交流被限制
  - 分散部署：用户基于当前的模式、服务器延迟被动态分配到一个特定的服务器，这样可以实现自然扩展
  - 对等技术完全分散：一种极端的体系，由每个参与者贡献（存储、处理）资源来容纳游戏

## 三 分布式系统的趋势

分布式系统的一些有影响力的趋势：
- 泛在联网：开放web互联网、企业内部的资源系统等
- 无处不在的计算：移动设备也出现了运算的需求，无处不在意味着将来很多不会引人注意的设备、物品也都可能普及分布式系统
- 分布式多媒体系统：如新闻访问实况、多区域视频会议等
- 分布式计算会作为一个公共设施：云计算是这一趋势的翘楚。利用操作系统虚拟化，为不同用户提供可伸缩的资源服务

## 四 分布式系统模型简介

分布式系统的模型设计主要有三个概念：
- 物理模型：从系统组成中的计算机/设备的类型，及其互联方向描述系统模型，无关具体的技术细节。最小物理模型是一组可扩展的计算机节点，这些几点通过计算机网络相互连接进行所需的消息传递。 
- 体系结构模型：从系统中的计算元素（单个/多个计算机网络集合）、通信来描述系统模型，如两种最常见的体系结构模型
  - 客户-服务器模型
  - 对等模型
- 基础模型：描述分布式系统对单个问题的解决方案，包括：
  - 交互模型：解决分布式系统的性能问题、时间约束（如消息传送的时间约束）。比如时间校正方案中可以使用GPS，但是GPS建筑内效果不好，且为每台机器添加GPS，其费用也不合理，可以让具有时间精确源（如GPS）的计算机发送时序消息给网络中其他的计算机，达到校正效果
  - 故障模型：对进程、通信通道故障的精确规约
  - 安全模型：引入安全通道来应对进程、通信通道中的各种威胁

## 五 分布式系统中的网络

本节部分和普通的计算机网络理论一致，可参考：
```
计算机网络
HTTP权威指南
TCP/IP卷
```
